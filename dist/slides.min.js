/*
 MIT
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,h){if(h.get||h.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=h.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var f=0;return $jscomp.iteratorPrototype(function(){return f<a.length?{done:!1,value:a[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var f=a[Symbol.iterator];return f?f.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,f,h,c){if(f){h=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var l=a[c];l in h||(h[l]={});h=h[l]}a=a[a.length-1];c=h[a];f=f(c);f!=c&&null!=f&&$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:f})}};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function f(){this.batch_=null}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;f.prototype.asyncExecute=function(b){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(b);return this};f.prototype.asyncExecuteBatch_=function(){var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})};var h=$jscomp.global.setTimeout;f.prototype.asyncExecuteFunction=function(b){h(b,0)};f.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var b=
this.batch_;this.batch_=[];for(var e=0;e<b.length;++e){var a=b[e];delete b[e];try{a()}catch(p){this.asyncThrow_(p)}}}this.batch_=null};f.prototype.asyncThrow_=function(b){this.asyncExecuteFunction(function(){throw b;})};var c=function(b){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{b(e.resolve,e.reject)}catch(n){e.reject(n)}};c.prototype.createResolveAndReject_=function(){function b(b){return function(c){a||(a=!0,b.call(e,c))}}var e=this,a=
!1;return{resolve:b(this.resolveTo_),reject:b(this.reject_)}};c.prototype.resolveTo_=function(b){if(b===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof c)this.settleSameAsPromise_(b);else{var e;a:switch(typeof b){case "object":e=null!=b;break a;case "function":e=!0;break a;default:e=!1}e?this.resolveToNonPromiseObj_(b):this.fulfill_(b)}};c.prototype.resolveToNonPromiseObj_=function(b){var e=void 0;try{e=b.then}catch(n){this.reject_(n);return}"function"==
typeof e?this.settleSameAsThenable_(e,b):this.fulfill_(b)};c.prototype.reject_=function(b){this.settle_(2,b)};c.prototype.fulfill_=function(b){this.settle_(1,b)};c.prototype.settle_=function(b,e){if(0!=this.state_)throw Error("Cannot settle("+b+", "+e|"): Promise already settled in state"+this.state_);this.state_=b;this.result_=e;this.executeOnSettledCallbacks_()};c.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var b=this.onSettledCallbacks_,e=0;e<b.length;++e)b[e].call(),
b[e]=null;this.onSettledCallbacks_=null}};var l=new f;c.prototype.settleSameAsPromise_=function(b){var e=this.createResolveAndReject_();b.callWhenSettled_(e.resolve,e.reject)};c.prototype.settleSameAsThenable_=function(b,e){var a=this.createResolveAndReject_();try{b.call(e,a.resolve,a.reject)}catch(p){a.reject(p)}};c.prototype.then=function(b,a){function e(b,a){return"function"==typeof b?function(a){try{f(b(a))}catch(q){h(q)}}:a}var f,h,l=new c(function(b,a){f=b;h=a});this.callWhenSettled_(e(b,f),
e(a,h));return l};c.prototype["catch"]=function(b){return this.then(void 0,b)};c.prototype.callWhenSettled_=function(b,a){function e(){switch(c.state_){case 1:b(c.result_);break;case 2:a(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?l.asyncExecute(e):this.onSettledCallbacks_.push(function(){l.asyncExecute(e)})};c.resolve=function(b){return b instanceof c?b:new c(function(a,c){a(b)})};c.reject=function(b){return new c(function(a,c){c(b)})};
c.race=function(b){return new c(function(a,f){for(var e=$jscomp.makeIterator(b),h=e.next();!h.done;h=e.next())c.resolve(h.value).callWhenSettled_(a,f)})};c.all=function(b){var a=$jscomp.makeIterator(b),f=a.next();return f.done?c.resolve([]):new c(function(b,e){function h(a){return function(c){l[a]=c;n--;0==n&&b(l)}}var l=[],n=0;do l.push(void 0),n++,c.resolve(f.value).callWhenSettled_(h(l.length-1),e),f=a.next();while(!f.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(c.$jscomp$new$AsyncExecutor=function(){return new f});
return c},"es6-impl","es3");var styleSheetInit=document.createElement("style");styleSheetInit.type="text/css";styleSheetInit.innerText="\n\t.slide * {\n\t\tvisibility: hidden;\n\t}\n\t";document.head.appendChild(styleSheetInit);Element.prototype.requestFullscreen||(Element.prototype.requestFullscreen=Element.prototype.mozRequestFullscreen||Element.prototype.webkitRequestFullscreen||Element.prototype.msRequestFullscreen);
var styles="\n\tbody {\n\t\tfont-size: calc(.25 * min(16vh, 9vw));\n\t\toverflow: hidden;\n\t\tpadding: 0px;\n\t\tmargin: 0px;\n\t\theight: 100vh;\n\t\twidth: 100vw;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: black;\n\t}\n\t.slide {\n\t\timage-rendering: optimizeQuality;\n\t\tposition: relative;\n\t\tpadding: 0em 2em;\n\t\tbox-sizing: border-box;\n\t\twidth: calc(1600vh / 9);\n\t\theight: calc(900vw / 16);\n\t\tmax-height: 100vh;\n\t\tmax-width: 100vw;\n\t\tbackground-color: white;\n\t}\n\t.hide {\n\t\tdisplay: none;\n\t}\n\t.slide-number {\n\t\tposition: absolute;\n\t\tleft: 50%;\n\t\tright: 50%;\n\t\tbottom: .3em;\n\t\tpadding: .1em;\n\t\tmargin: 0em;\n\t\ttext-align: center;\n\t\tline-height: 1em;\n\t}\n",styleSheet=
document.createElement("style");styleSheet.type="text/css";styleSheet.innerText=styles;document.head.appendChild(styleSheet);
window.onload=function(){function a(a,b){sessionStorage&&(sessionStorage.setItem("currentSlide",a),sessionStorage.setItem("currentAnimation",JSON.stringify(b)))}function f(a,b){for(var c=g,k=0;k<a;k++)c[k]=h(k);void 0!==b[a]&&(c[a]=Math.min(b[a],h(a)));return c}function h(a){for(var c=0;b(a,c);)c+=1;return c}function c(a,b){for(var c=new RegExp("^ag(-[0-9]+)*-"+b+"((-[0-9]*)|$)+"),k=0;k<a.length;k++)if(c.test(a[k]))return!0;return!1}function l(a,b){for(var c=new RegExp("^as-"+b+"$"),k=0;k<a.length;k++)if(c.test(a[k]))return!0;
return!1}function b(a,b){for(var k=m[a].querySelectorAll('[class*="ag-"]'),e=m[a].querySelectorAll('[class*="as-"]'),d=0;d<k.length;d++)if(c(k[d].classList,b+1))return!0;for(d=0;d<e.length;d++)if(l(e[d].classList,b+1))return!0;return!1}function e(a,b){for(var e=m[a].querySelectorAll('[class*="ag-"]'),k=m[a].querySelectorAll('[class*="as-"]'),d=0;d<e.length;d++)c(e[d].classList,b)?e[d].classList.remove("hide"):e[d].classList.add("hide");for(d=0;d<k.length;d++)for(k[d].classList.add("hide"),e=0;e<b+
1;e++)l(k[d].classList,e)&&k[d].classList.remove("hide");m[a].getElementsByClassName("slide-number")[0].innerHTML=String(a)+"-"+String(g[a]);return new Promise(function(a,b){a()})}function n(a){for(var b=0;b<m.length;b++)m[b].classList.add("hide");m[a].classList.remove("hide");return new Promise(function(a,b){a()})}function p(c){var k=b(d,g[d]),f;f=d+1<m.length?!0:!1;return k?(g[d]+=1,t(d,g[d]).then(function(){e(d,g[d]);a(d,g)})):f&&!c?(d+=1,v(d).then(function(){t(d,g[d]).then(function(){e(d,g[d]).then(function(){n(d);
a(d,g)})})})):new Promise(function(a,b){a()})}function y(b){var c;c=0<g[d]?!0:!1;var k;k=0<d?!0:!1;return c?(--g[d],t(d,g[d]).then(function(){e(d,g[d]);a(d,g)})):k&&!b?(--d,v(d).then(function(){t(d,g[d]).then(function(){e(d,g[d]).then(function(){n(d);a(d,g)})})})):new Promise(function(a,b){a()})}function t(a,b){for(var d=m[a].querySelectorAll('[class*="ag-"]'),e=m[a].querySelectorAll('[class*="as-"]'),k=[],f=0;f<d.length;f++)if(c(d[f].classList,b)){for(var h=d[f].getElementsByTagName("img"),g=0;g<
h.length;g++)k.push(h[g].decode());"IMG"==d[f].tagName&&(console.log(d[f].complete),k.push(d[f].decode()))}for(f=0;f<e.length;f++)if(l(e[f].classList,b)){h=e[f].getElementsByTagName("img");for(g=0;g<h.length;g++)k.push(h[g].decode());"IMG"==e[f].tagName&&k.push(e[f].decode())}return Promise.all(k)}function v(a){a=m[a].querySelectorAll('img:not([class*="ag-"]):not([class*="as-"])');for(var b=[],c=0;c<a.length;c++)b.push(a[c].decode());return Promise.all(b)}function w(){e(d,g[d]).then(function(){n(d)})}
function x(){var a=window.prompt("To go to slide N, animation M, enter: \n N-M","0-0");if(/^[0-9]+-[0-9]+$/.test(a)){var b=parseInt(a.split("-")[0]),a=parseInt(a.split("-")[1]);d=b+1>m.length?m.length-1:b;g[d]=a;g=f(d,g);w()}else null!=a&&(alert("Make sure you format your input as N-M, \nwhere N is the slide number and M is the animation number."),x())}var q=!1,u=!1,d=0,g=[],m=document.getElementsByClassName("slide"),r=function(a){switch(a.code){case "ArrowRight":window.removeEventListener("keydown",
r);p(u).then(function(){window.addEventListener("keydown",r)});a.shiftKey||(u=!0);break;case "ArrowLeft":window.removeEventListener("keydown",r);y(q).then(function(){window.addEventListener("keydown",r)});a.shiftKey||(q=!0);break;case "KeyF":document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen();break;case "KeyG":x()}};window.addEventListener("keydown",r);window.addEventListener("keyup",function(a){39==a.keyCode?u=!1:37==a.keyCode&&(q=!1)});(function(a){for(var b=
0;b<a.length;b++){g.push(0);var c=document.createElement("P");c.classList.add("slide-number");a[b].appendChild(c)}})(m);(function(){if(sessionStorage){var a=parseInt(sessionStorage.getItem("currentSlide")),b=JSON.parse(sessionStorage.getItem("currentAnimation"));null!==a&&null!==b&&(d=a+1>m.length?m.length-1:a,g=f(d,b))}})();w();styleSheetInit.remove()};
